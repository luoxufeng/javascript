<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
    <script src="../../Scripts/jquery.js"></script>
    <script src="../../Scripts/underscore.js"></script>
    <script src="../../Scripts/backbone.js"></script>
</head>
    <body>
        <a href="#actions">testActions</a>
        <a href="#/posts/120">Post 120</a>
        <a href="#/download/user/images/hey.gif">download gif</a>
        <a href="#/dashboard/graph">Load Route/Action View</a>
        <a href="#/manual">manual</a>
        <script type="text/javascript">
            (function () {
                var AppRoute = Backbone.Router.extend({
                    routes: {
                        "posts/:id": "getPost",
                        "manual":"manual",
                        "*actions": "defaultRoute"
                        
                    },
                    defaultRoute: function (actions) {
                        alert(actions);
                    },
                    getPost:function(id) {
                        alert(id);
                    },
                    manual:function() {
                        alert("call manual");
                        app_route.navigate("/posts/404", { trigger: true, replace: true });
                    }
                });

                var app_route = new AppRoute;
                Backbone.history.start(); //调用Backbone.history.start()方法来初始化这个Router。

                //如果一个链接符合多个路由的条件，则已符合路由中的第一个为准，即后面符合条件的忽略，
                //即（#/posts/120同时符合路由1和路由2 ，但它会进入第一个路由）
            })(jQuery)
        </script>
    </body>
</html>
